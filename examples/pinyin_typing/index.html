<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PolyBiz AI - Pinyin Typing Game ÊãºÈü≥ÊâìÂ≠ó</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh; color: #fff; padding: 20px;
        }
        .container { max-width: 800px; margin: 0 auto; }
        h1 { text-align: center; margin-bottom: 10px; }
        .subtitle { text-align: center; color: #888; margin-bottom: 20px; }
        
        .card {
            background: rgba(255,255,255,0.05); border-radius: 15px;
            padding: 25px; margin-bottom: 20px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        /* Stats Bar */
        .stats-bar {
            display: flex; justify-content: space-around; padding: 15px;
            background: rgba(0,0,0,0.3); border-radius: 10px; margin-bottom: 20px;
        }
        .stat { text-align: center; }
        .stat-value { font-size: 1.8em; font-weight: bold; color: #60a5fa; }
        .stat-label { font-size: 0.85em; color: #888; }
        
        /* Timer Bar */
        .timer-bar {
            height: 8px; background: rgba(255,255,255,0.1);
            border-radius: 4px; margin-bottom: 20px; overflow: hidden;
        }
        .timer-fill {
            height: 100%; background: linear-gradient(90deg, #22c55e, #f59e0b, #ef4444);
            border-radius: 4px; transition: width 0.1s linear;
        }

        /* Game Display */
        .game-display {
            text-align: center; padding: 40px 20px;
            background: rgba(0,0,0,0.3); border-radius: 15px; margin-bottom: 20px;
        }
        .char-display {
            font-size: 6em; font-family: 'Noto Sans SC', serif;
            color: #60a5fa; margin-bottom: 10px;
            text-shadow: 0 0 30px rgba(96,165,250,0.5);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        .meaning-display { color: #888; font-size: 1.2em; margin-bottom: 20px; }
        
        /* Input */
        .input-section { text-align: center; margin: 20px 0; }
        .pinyin-input {
            font-size: 2em; padding: 15px 30px; width: 100%; max-width: 400px;
            background: rgba(255,255,255,0.1); border: 3px solid #444;
            border-radius: 15px; color: #fff; text-align: center;
            outline: none; transition: all 0.3s;
        }
        .pinyin-input:focus { border-color: #3b82f6; box-shadow: 0 0 20px rgba(59,130,246,0.3); }
        .pinyin-input.correct { border-color: #22c55e; background: rgba(34,197,94,0.1); }
        .pinyin-input.wrong { border-color: #ef4444; background: rgba(239,68,68,0.1); animation: shake 0.3s; }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        
        .hint-text {
            margin-top: 15px; color: #666; font-size: 0.9em;
            min-height: 25px;
        }
        .hint-text.show { color: #fbbf24; }
        
        /* Combo Display */
        .combo-display {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            font-size: 4em; font-weight: bold; pointer-events: none;
            opacity: 0; transition: all 0.3s;
        }
        .combo-display.show {
            opacity: 1; animation: comboAnim 0.5s ease-out;
        }
        @keyframes comboAnim {
            0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; }
            50% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 0; }
        }
        
        /* Word Queue */
        .word-queue {
            display: flex; justify-content: center; gap: 15px;
            margin-bottom: 20px; min-height: 60px;
        }
        .queue-item {
            padding: 10px 20px; background: rgba(255,255,255,0.05);
            border-radius: 10px; opacity: 0.5; transition: all 0.3s;
        }
        .queue-item.current { opacity: 1; background: rgba(59,130,246,0.2); transform: scale(1.1); }
        .queue-item.done { opacity: 0.3; text-decoration: line-through; }
        .queue-char { font-size: 1.5em; }
        
        /* Mode Selector */
        .mode-selector {
            display: flex; gap: 10px; justify-content: center; margin-bottom: 20px;
        }
        .mode-btn {
            padding: 10px 20px; border: 2px solid #444; border-radius: 10px;
            background: transparent; color: #aaa; cursor: pointer; transition: all 0.2s;
        }
        .mode-btn:hover { border-color: #60a5fa; }
        .mode-btn.active { border-color: #3b82f6; background: rgba(59,130,246,0.2); color: #fff; }
        
        /* Controls */
        .controls { display: flex; gap: 10px; justify-content: center; }
        .btn {
            padding: 12px 30px; border: none; border-radius: 10px;
            cursor: pointer; font-size: 16px; transition: all 0.2s;
        }
        .btn-primary { background: #3b82f6; color: #fff; }
        .btn-success { background: #22c55e; color: #fff; }
        .btn-secondary { background: #6b7280; color: #fff; }
        .btn-warning { background: #f59e0b; color: #000; }
        .btn:hover { transform: scale(1.05); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        
        /* Results */
        .results {
            text-align: center; padding: 30px;
            background: rgba(0,0,0,0.3); border-radius: 15px;
            display: none;
        }
        .results.show { display: block; }
        .results-icon { font-size: 4em; margin-bottom: 15px; }
        .results-title { font-size: 1.8em; margin-bottom: 10px; }
        .results-stats { color: #888; margin-bottom: 20px; }
        .results-stats div { margin: 5px 0; }
        
        /* Leaderboard */
        .leaderboard { margin-top: 20px; }
        .leaderboard-item {
            display: flex; justify-content: space-between; align-items: center;
            padding: 10px 15px; background: rgba(255,255,255,0.05);
            border-radius: 8px; margin-bottom: 8px;
        }
        .leaderboard-rank { font-weight: bold; color: #fbbf24; width: 30px; }
        .leaderboard-score { color: #60a5fa; }
        
        /* Keyboard hint */
        .keyboard-hint {
            display: flex; flex-wrap: wrap; gap: 5px; justify-content: center;
            margin-top: 15px; opacity: 0.5;
        }
        .key {
            padding: 5px 10px; background: rgba(255,255,255,0.1);
            border-radius: 5px; font-size: 0.8em;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚å®Ô∏è Pinyin Typing Game ÊãºÈü≥ÊâìÂ≠ó</h1>
        <p class="subtitle">G√µ pinyin nhanh v√† ch√≠nh x√°c!</p>
        
        <div class="stats-bar">
            <div class="stat">
                <div class="stat-value" id="score">0</div>
                <div class="stat-label">ƒêi·ªÉm</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="combo">0</div>
                <div class="stat-label">Combo üî•</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="wpm">0</div>
                <div class="stat-label">WPM</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="accuracy">100%</div>
                <div class="stat-label">Ch√≠nh x√°c</div>
            </div>
        </div>
        
        <div class="card">
            <div class="timer-bar">
                <div class="timer-fill" id="timer-fill" style="width:100%"></div>
            </div>
            
            <div class="mode-selector">
                <button class="mode-btn active" data-mode="easy">D·ªÖ (60s)</button>
                <button class="mode-btn" data-mode="normal">Th∆∞·ªùng (45s)</button>
                <button class="mode-btn" data-mode="hard">Kh√≥ (30s)</button>
                <button class="mode-btn" data-mode="zen">Zen ‚àû</button>
            </div>
            
            <div class="word-queue" id="word-queue"></div>
            
            <div class="game-display" id="game-display">
                <div class="char-display" id="char-display">Â•Ω</div>
                <div class="meaning-display" id="meaning-display">T·ªët, Th√≠ch</div>
            </div>
            
            <div class="input-section">
                <input type="text" class="pinyin-input" id="pinyin-input" 
                       placeholder="G√µ pinyin..." autocomplete="off" disabled>
                <div class="hint-text" id="hint-text">Nh·∫•n "B·∫Øt ƒë·∫ßu" ƒë·ªÉ ch∆°i</div>
            </div>
            
            <div class="controls">
                <button class="btn btn-warning" id="btn-hint">üí° G·ª£i √Ω</button>
                <button class="btn btn-primary" id="btn-start">üöÄ B·∫Øt ƒë·∫ßu</button>
                <button class="btn btn-secondary" id="btn-sound">üîä √Çm thanh</button>
            </div>
            
            <!-- Results -->
            <div class="results" id="results">
                <div class="results-icon" id="results-icon">üéâ</div>
                <div class="results-title" id="results-title">Ho√†n th√†nh!</div>
                <div class="results-stats" id="results-stats"></div>
                <button class="btn btn-success" id="btn-restart">üîÑ Ch∆°i l·∫°i</button>
            </div>
        </div>
        
        <!-- High Scores -->
        <div class="card">
            <h3 style="margin-bottom:15px;">üèÜ ƒêi·ªÉm cao nh·∫•t</h3>
            <div class="leaderboard" id="leaderboard"></div>
        </div>
    </div>
    
    <div class="combo-display" id="combo-display">üî• x5</div>

    <script>
        // ============ DATA ============
        const WORDS = [
            { char: 'Â•Ω', pinyin: 'hao', meaning: 'T·ªët' },
            { char: '‰Ω†', pinyin: 'ni', meaning: 'B·∫°n' },
            { char: 'Êàë', pinyin: 'wo', meaning: 'T√¥i' },
            { char: '‰ªñ', pinyin: 'ta', meaning: 'Anh ·∫•y' },
            { char: 'Â•π', pinyin: 'ta', meaning: 'C√¥ ·∫•y' },
            { char: 'ÊòØ', pinyin: 'shi', meaning: 'L√†' },
            { char: 'ÁöÑ', pinyin: 'de', meaning: 'C·ªßa' },
            { char: '‰∫Ü', pinyin: 'le', meaning: 'R·ªìi' },
            { char: 'Âú®', pinyin: 'zai', meaning: '·ªû' },
            { char: 'Êúâ', pinyin: 'you', meaning: 'C√≥' },
            { char: '‰∫∫', pinyin: 'ren', meaning: 'Ng∆∞·ªùi' },
            { char: 'Â§ß', pinyin: 'da', meaning: 'L·ªõn' },
            { char: 'Â∞è', pinyin: 'xiao', meaning: 'Nh·ªè' },
            { char: '‰∏≠', pinyin: 'zhong', meaning: 'Gi·ªØa' },
            { char: 'ÂõΩ', pinyin: 'guo', meaning: 'N∆∞·ªõc' },
            { char: 'Â≠¶', pinyin: 'xue', meaning: 'H·ªçc' },
            { char: 'Áîü', pinyin: 'sheng', meaning: 'Sinh' },
            { char: 'Â∑•', pinyin: 'gong', meaning: 'C√¥ng' },
            { char: '‰Ωú', pinyin: 'zuo', meaning: 'L√†m' },
            { char: 'Êó∂', pinyin: 'shi', meaning: 'Th·ªùi' },
            { char: 'Èó¥', pinyin: 'jian', meaning: 'Gian' },
            { char: 'Âπ¥', pinyin: 'nian', meaning: 'NƒÉm' },
            { char: 'Êúà', pinyin: 'yue', meaning: 'Th√°ng' },
            { char: 'Êó•', pinyin: 'ri', meaning: 'Ng√†y' },
            { char: 'Â§©', pinyin: 'tian', meaning: 'Tr·ªùi' },
            { char: '‰∏ä', pinyin: 'shang', meaning: 'Tr√™n' },
            { char: '‰∏ã', pinyin: 'xia', meaning: 'D∆∞·ªõi' },
            { char: 'Êù•', pinyin: 'lai', meaning: 'ƒê·∫øn' },
            { char: 'Âéª', pinyin: 'qu', meaning: 'ƒêi' },
            { char: 'Âá∫', pinyin: 'chu', meaning: 'Ra' },
            { char: 'ÂÖ•', pinyin: 'ru', meaning: 'V√†o' },
            { char: 'ÂºÄ', pinyin: 'kai', meaning: 'M·ªü' },
            { char: 'ÂÖ≥', pinyin: 'guan', meaning: 'ƒê√≥ng' },
            { char: 'Áúã', pinyin: 'kan', meaning: 'Xem' },
            { char: 'Âê¨', pinyin: 'ting', meaning: 'Nghe' },
            { char: 'ËØ¥', pinyin: 'shuo', meaning: 'N√≥i' },
            { char: 'ËØª', pinyin: 'du', meaning: 'ƒê·ªçc' },
            { char: 'ÂÜô', pinyin: 'xie', meaning: 'Vi·∫øt' },
            { char: 'ÂêÉ', pinyin: 'chi', meaning: 'ƒÇn' },
            { char: 'Âñù', pinyin: 'he', meaning: 'U·ªëng' },
            { char: 'Áà±', pinyin: 'ai', meaning: 'Y√™u' },
            { char: 'ÊÉ≥', pinyin: 'xiang', meaning: 'Nghƒ©' },
            { char: 'Ë¶Å', pinyin: 'yao', meaning: 'Mu·ªën' },
            { char: 'ËÉΩ', pinyin: 'neng', meaning: 'C√≥ th·ªÉ' },
            { char: '‰ºö', pinyin: 'hui', meaning: 'Bi·∫øt' },
            { char: 'Âæà', pinyin: 'hen', meaning: 'R·∫•t' },
            { char: 'Â§ö', pinyin: 'duo', meaning: 'Nhi·ªÅu' },
            { char: 'Â∞ë', pinyin: 'shao', meaning: '√çt' },
            { char: 'È´ò', pinyin: 'gao', meaning: 'Cao' },
            { char: '‰Ωé', pinyin: 'di', meaning: 'Th·∫•p' },
        ];
        
        const MODES = {
            easy: { time: 60, name: 'D·ªÖ' },
            normal: { time: 45, name: 'Th∆∞·ªùng' },
            hard: { time: 30, name: 'Kh√≥' },
            zen: { time: Infinity, name: 'Zen' }
        };
        
        // ============ STATE ============
        const state = {
            mode: 'easy',
            playing: false,
            words: [],
            currentIndex: 0,
            score: 0,
            combo: 0,
            maxCombo: 0,
            correct: 0,
            wrong: 0,
            totalChars: 0,
            timeLeft: 60,
            startTime: null,
            timer: null,
            soundEnabled: true,
            highScores: []
        };
        
        // ============ AUDIO ============
        function playSound(type) {
            if (!state.soundEnabled) return;
            try {
                const ctx = new (window.AudioContext || window.webkitAudioContext)();
                const osc = ctx.createOscillator();
                const gain = ctx.createGain();
                osc.connect(gain);
                gain.connect(ctx.destination);
                gain.gain.value = 0.1;
                
                if (type === 'correct') {
                    osc.frequency.value = 600;
                    osc.start();
                    setTimeout(() => { osc.frequency.value = 800; }, 100);
                    osc.stop(ctx.currentTime + 0.2);
                } else if (type === 'wrong') {
                    osc.frequency.value = 200;
                    osc.start();
                    osc.stop(ctx.currentTime + 0.2);
                } else if (type === 'combo') {
                    osc.frequency.value = 800;
                    osc.start();
                    setTimeout(() => { osc.frequency.value = 1000; }, 100);
                    setTimeout(() => { osc.frequency.value = 1200; }, 200);
                    osc.stop(ctx.currentTime + 0.3);
                }
            } catch (e) {}
        }
        
        function speak(text) {
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'zh-CN';
            utterance.rate = 1;
            speechSynthesis.speak(utterance);
        }
        
        // ============ GAME LOGIC ============
        function shuffle(arr) {
            const result = [...arr];
            for (let i = result.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [result[i], result[j]] = [result[j], result[i]];
            }
            return result;
        }
        
        function startGame() {
            state.playing = true;
            state.words = shuffle([...WORDS]);
            state.currentIndex = 0;
            state.score = 0;
            state.combo = 0;
            state.maxCombo = 0;
            state.correct = 0;
            state.wrong = 0;
            state.totalChars = 0;
            state.timeLeft = MODES[state.mode].time;
            state.startTime = Date.now();
            
            document.getElementById('pinyin-input').disabled = false;
            document.getElementById('pinyin-input').value = '';
            document.getElementById('pinyin-input').focus();
            document.getElementById('btn-start').style.display = 'none';
            document.getElementById('game-display').style.display = 'block';
            document.getElementById('results').classList.remove('show');
            document.getElementById('hint-text').textContent = '';
            
            loadWord();
            updateStats();
            renderQueue();
            
            if (state.mode !== 'zen') {
                state.timer = setInterval(updateTimer, 100);
            }
        }
        
        function loadWord() {
            if (state.currentIndex >= state.words.length) {
                state.words = shuffle([...WORDS]);
                state.currentIndex = 0;
            }
            
            const word = state.words[state.currentIndex];
            document.getElementById('char-display').textContent = word.char;
            document.getElementById('meaning-display').textContent = word.meaning;
            document.getElementById('pinyin-input').classList.remove('correct', 'wrong');
            
            renderQueue();
        }
        
        function checkInput(input) {
            const word = state.words[state.currentIndex];
            const inputLower = input.toLowerCase().trim();
            
            if (inputLower === word.pinyin) {
                // Correct!
                state.correct++;
                state.combo++;
                state.totalChars += word.pinyin.length;
                
                if (state.combo > state.maxCombo) state.maxCombo = state.combo;
                
                // Score: base + combo bonus
                const points = 10 + Math.floor(state.combo / 5) * 5;
                state.score += points;
                
                playSound('correct');
                speak(word.char);
                
                // Show combo
                if (state.combo >= 5 && state.combo % 5 === 0) {
                    showCombo();
                    playSound('combo');
                }
                
                document.getElementById('pinyin-input').classList.add('correct');
                
                setTimeout(() => {
                    state.currentIndex++;
                    document.getElementById('pinyin-input').value = '';
                    loadWord();
                    updateStats();
                }, 200);
                
            } else if (word.pinyin.startsWith(inputLower)) {
                // Partial match - keep typing
                document.getElementById('pinyin-input').classList.remove('wrong');
            } else {
                // Wrong
                state.wrong++;
                state.combo = 0;
                playSound('wrong');
                document.getElementById('pinyin-input').classList.add('wrong');
            }
        }
        
        function showCombo() {
            const el = document.getElementById('combo-display');
            el.textContent = `üî• x${state.combo}`;
            el.classList.add('show');
            setTimeout(() => el.classList.remove('show'), 500);
        }
        
        function updateTimer() {
            const elapsed = (Date.now() - state.startTime) / 1000;
            state.timeLeft = Math.max(0, MODES[state.mode].time - elapsed);
            
            const percent = (state.timeLeft / MODES[state.mode].time) * 100;
            document.getElementById('timer-fill').style.width = percent + '%';
            
            // Update WPM
            const minutes = elapsed / 60;
            const wpm = minutes > 0 ? Math.round(state.totalChars / 5 / minutes) : 0;
            document.getElementById('wpm').textContent = wpm;
            
            if (state.timeLeft <= 0) {
                endGame();
            }
        }
        
        function updateStats() {
            document.getElementById('score').textContent = state.score;
            document.getElementById('combo').textContent = state.combo;
            
            const total = state.correct + state.wrong;
            const accuracy = total > 0 ? Math.round(state.correct / total * 100) : 100;
            document.getElementById('accuracy').textContent = accuracy + '%';
        }
        
        function renderQueue() {
            const container = document.getElementById('word-queue');
            const start = Math.max(0, state.currentIndex - 1);
            const end = Math.min(state.words.length, state.currentIndex + 4);
            
            container.innerHTML = state.words.slice(start, end).map((w, i) => {
                const realIndex = start + i;
                let cls = 'queue-item';
                if (realIndex < state.currentIndex) cls += ' done';
                else if (realIndex === state.currentIndex) cls += ' current';
                return `<div class="${cls}"><span class="queue-char">${w.char}</span></div>`;
            }).join('');
        }
        
        function showHint() {
            if (!state.playing) return;
            const word = state.words[state.currentIndex];
            document.getElementById('hint-text').textContent = `G·ª£i √Ω: ${word.pinyin}`;
            document.getElementById('hint-text').classList.add('show');
            state.score = Math.max(0, state.score - 5);
            updateStats();
        }
        
        function endGame() {
            state.playing = false;
            clearInterval(state.timer);
            
            document.getElementById('pinyin-input').disabled = true;
            document.getElementById('game-display').style.display = 'none';
            
            const elapsed = (Date.now() - state.startTime) / 1000;
            const minutes = elapsed / 60;
            const wpm = minutes > 0 ? Math.round(state.totalChars / 5 / minutes) : 0;
            const accuracy = (state.correct + state.wrong) > 0 
                ? Math.round(state.correct / (state.correct + state.wrong) * 100) : 0;
            
            // Determine result
            let icon = 'üéâ', title = 'Tuy·ªát v·ªùi!';
            if (state.score < 50) { icon = 'üí™'; title = 'C·ªë g·∫Øng th√™m!'; }
            else if (state.score < 100) { icon = 'üëç'; title = 'T·ªët l·∫Øm!'; }
            else if (state.score < 200) { icon = 'üéâ'; title = 'Xu·∫•t s·∫Øc!'; }
            else { icon = 'üèÜ'; title = 'Si√™u ƒë·∫≥ng!'; }
            
            document.getElementById('results-icon').textContent = icon;
            document.getElementById('results-title').textContent = title;
            document.getElementById('results-stats').innerHTML = `
                <div>ƒêi·ªÉm: <strong style="color:#60a5fa;">${state.score}</strong></div>
                <div>T·ª´ ƒë√∫ng: ${state.correct} | Sai: ${state.wrong}</div>
                <div>Combo cao nh·∫•t: ${state.maxCombo}</div>
                <div>WPM: ${wpm} | Ch√≠nh x√°c: ${accuracy}%</div>
            `;
            document.getElementById('results').classList.add('show');
            document.getElementById('btn-start').style.display = 'inline-block';
            
            // Save high score
            saveHighScore(state.score, state.mode);
        }
        
        function saveHighScore(score, mode) {
            try {
                let scores = JSON.parse(localStorage.getItem('pinyin_scores') || '[]');
                scores.push({ score, mode, date: new Date().toLocaleDateString() });
                scores.sort((a, b) => b.score - a.score);
                scores = scores.slice(0, 10);
                localStorage.setItem('pinyin_scores', JSON.stringify(scores));
                renderLeaderboard();
            } catch (e) {}
        }
        
        function renderLeaderboard() {
            try {
                const scores = JSON.parse(localStorage.getItem('pinyin_scores') || '[]');
                const container = document.getElementById('leaderboard');
                
                if (scores.length === 0) {
                    container.innerHTML = '<div style="color:#666;text-align:center;">Ch∆∞a c√≥ ƒëi·ªÉm n√†o</div>';
                    return;
                }
                
                container.innerHTML = scores.slice(0, 5).map((s, i) => `
                    <div class="leaderboard-item">
                        <span class="leaderboard-rank">#${i + 1}</span>
                        <span>${MODES[s.mode]?.name || s.mode}</span>
                        <span class="leaderboard-score">${s.score} ƒëi·ªÉm</span>
                    </div>
                `).join('');
            } catch (e) {}
        }
        
        // ============ INIT ============
        document.getElementById('pinyin-input').addEventListener('input', (e) => {
            if (state.playing) {
                checkInput(e.target.value);
            }
        });
        
        document.getElementById('btn-start').addEventListener('click', startGame);
        document.getElementById('btn-restart').addEventListener('click', startGame);
        document.getElementById('btn-hint').addEventListener('click', showHint);
        
        document.getElementById('btn-sound').addEventListener('click', () => {
            state.soundEnabled = !state.soundEnabled;
            document.getElementById('btn-sound').textContent = state.soundEnabled ? 'üîä √Çm thanh' : 'üîá T·∫Øt ti·∫øng';
        });
        
        document.querySelectorAll('.mode-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                if (state.playing) return;
                document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                state.mode = btn.dataset.mode;
            });
        });
        
        // Keyboard shortcut
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !state.playing) {
                startGame();
            }
        });
        
        renderLeaderboard();
        loadWord();
    </script>
</body>
</html>

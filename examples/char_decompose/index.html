<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PolyBiz AI - Character Decomposition Ê±âÂ≠óÂàÜËß£</title>
    <script src="https://cdn.jsdelivr.net/npm/hanzi-writer@3.5/dist/hanzi-writer.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh; color: #fff; padding: 20px;
        }
        .container { max-width: 1000px; margin: 0 auto; }
        h1 { text-align: center; margin-bottom: 10px; }
        .subtitle { text-align: center; color: #888; margin-bottom: 20px; }
        
        .card {
            background: rgba(255,255,255,0.05); border-radius: 15px;
            padding: 25px; margin-bottom: 20px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        /* Search */
        .search-section { text-align: center; margin-bottom: 30px; }
        .search-input {
            font-size: 2em; padding: 15px 30px; width: 200px;
            background: rgba(255,255,255,0.1); border: 2px solid #444;
            border-radius: 15px; color: #fff; text-align: center;
            font-family: 'Noto Sans SC', serif;
        }
        .search-input:focus { border-color: #3b82f6; outline: none; }
        .search-hint { color: #666; margin-top: 10px; font-size: 0.9em; }

        /* Main Display */
        .main-display {
            display: grid; grid-template-columns: 300px 1fr; gap: 30px;
        }
        
        /* Character Box */
        .char-box {
            text-align: center; padding: 30px;
            background: rgba(0,0,0,0.3); border-radius: 15px;
        }
        .char-writer { margin: 0 auto 20px; }
        .char-pinyin { font-size: 1.5em; color: #fbbf24; margin-bottom: 5px; }
        .char-meaning { color: #888; margin-bottom: 15px; }
        .char-meta {
            display: flex; justify-content: center; gap: 15px;
            font-size: 0.9em; color: #666;
        }
        .char-meta span { padding: 5px 12px; background: rgba(255,255,255,0.1); border-radius: 15px; }
        
        /* Decomposition */
        .decompose-section { }
        .decompose-title {
            font-size: 1.2em; margin-bottom: 15px;
            display: flex; align-items: center; gap: 10px;
        }
        
        /* Component Tree */
        .component-tree {
            padding: 20px; background: rgba(0,0,0,0.2); border-radius: 12px;
            margin-bottom: 20px;
        }
        .tree-formula {
            font-size: 2em; text-align: center; margin-bottom: 20px;
            font-family: 'Noto Sans SC', serif;
        }
        .tree-formula .char { color: #60a5fa; }
        .tree-formula .op { color: #888; margin: 0 10px; }
        .tree-formula .comp { 
            color: #fbbf24; cursor: pointer; 
            transition: all 0.2s; padding: 5px 10px;
            border-radius: 8px;
        }
        .tree-formula .comp:hover { background: rgba(245,158,11,0.2); }
        
        /* Components Grid */
        .components-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }
        .component-card {
            padding: 20px; background: rgba(255,255,255,0.05);
            border-radius: 12px; text-align: center;
            cursor: pointer; transition: all 0.2s;
            border: 2px solid transparent;
        }
        .component-card:hover { border-color: #3b82f6; transform: translateY(-3px); }
        .component-char {
            font-size: 3em; font-family: 'Noto Sans SC', serif;
            color: #60a5fa; margin-bottom: 10px;
        }
        .component-pinyin { color: #fbbf24; margin-bottom: 5px; }
        .component-meaning { color: #888; font-size: 0.9em; margin-bottom: 10px; }
        .component-type {
            display: inline-block; padding: 3px 10px;
            background: rgba(139,92,246,0.2); color: #a78bfa;
            border-radius: 10px; font-size: 0.8em;
        }
        
        /* Radical Info */
        .radical-info {
            padding: 20px; background: linear-gradient(135deg, rgba(245,158,11,0.1), rgba(239,68,68,0.1));
            border-radius: 12px; margin-bottom: 20px;
            border: 1px solid rgba(245,158,11,0.3);
        }
        .radical-header { display: flex; align-items: center; gap: 15px; margin-bottom: 15px; }
        .radical-char {
            font-size: 3em; font-family: 'Noto Sans SC', serif;
            color: #f59e0b; background: rgba(0,0,0,0.3);
            width: 80px; height: 80px; border-radius: 12px;
            display: flex; align-items: center; justify-content: center;
        }
        .radical-details h3 { color: #fbbf24; margin-bottom: 5px; }
        .radical-details p { color: #888; font-size: 0.9em; }
        
        /* Examples */
        .examples-section { margin-top: 20px; }
        .examples-title { margin-bottom: 15px; color: #888; }
        .examples-grid {
            display: flex; flex-wrap: wrap; gap: 10px;
        }
        .example-char {
            padding: 10px 15px; background: rgba(255,255,255,0.05);
            border-radius: 8px; cursor: pointer; transition: all 0.2s;
            font-size: 1.3em; font-family: 'Noto Sans SC', serif;
        }
        .example-char:hover { background: rgba(59,130,246,0.2); }
        
        /* Mnemonic */
        .mnemonic-box {
            padding: 20px; background: rgba(34,197,94,0.1);
            border-radius: 12px; border: 1px solid rgba(34,197,94,0.3);
        }
        .mnemonic-title { color: #22c55e; margin-bottom: 10px; display: flex; align-items: center; gap: 8px; }
        .mnemonic-text { color: #aaa; line-height: 1.6; }
        .mnemonic-text strong { color: #fbbf24; }
        
        /* Controls */
        .controls { display: flex; gap: 10px; justify-content: center; margin-top: 20px; }
        .btn {
            padding: 10px 20px; border: none; border-radius: 10px;
            cursor: pointer; font-size: 14px; transition: all 0.2s;
        }
        .btn-primary { background: #3b82f6; color: #fff; }
        .btn-secondary { background: #6b7280; color: #fff; }
        .btn:hover { transform: scale(1.05); }
        
        /* Quick Select */
        .quick-select {
            display: flex; flex-wrap: wrap; gap: 8px; justify-content: center;
            margin-top: 15px;
        }
        .quick-char {
            width: 45px; height: 45px; display: flex; align-items: center;
            justify-content: center; background: rgba(255,255,255,0.05);
            border-radius: 8px; cursor: pointer; font-size: 1.5em;
            font-family: 'Noto Sans SC', serif; transition: all 0.2s;
        }
        .quick-char:hover { background: rgba(59,130,246,0.3); }
        
        @media (max-width: 700px) {
            .main-display { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîç Character Decomposition Ê±âÂ≠óÂàÜËß£</h1>
        <p class="subtitle">Ph√¢n t√≠ch c·∫•u t·∫°o v√† b·ªô th·ªß c·ªßa ch·ªØ H√°n</p>
        
        <!-- Search -->
        <div class="search-section">
            <input type="text" class="search-input" id="search-input" 
                   placeholder="Â•Ω" maxlength="1" value="Â•Ω">
            <div class="search-hint">Nh·∫≠p m·ªôt ch·ªØ H√°n ƒë·ªÉ ph√¢n t√≠ch</div>
            <div class="quick-select" id="quick-select"></div>
        </div>
        
        <div class="card">
            <div class="main-display">
                <!-- Character Box -->
                <div class="char-box">
                    <div class="char-writer" id="char-writer"></div>
                    <div class="char-pinyin" id="char-pinyin">h«éo</div>
                    <div class="char-meaning" id="char-meaning">T·ªët, Th√≠ch</div>
                    <div class="char-meta">
                        <span id="stroke-count">6 n√©t</span>
                        <span id="hsk-level">HSK 1</span>
                    </div>
                    <div class="controls" style="margin-top:15px;">
                        <button class="btn btn-primary" id="btn-animate">‚ñ∂Ô∏è Animation</button>
                        <button class="btn btn-secondary" id="btn-speak">üîä Nghe</button>
                    </div>
                </div>
                
                <!-- Decomposition -->
                <div class="decompose-section">
                    <!-- Formula -->
                    <div class="component-tree">
                        <div class="decompose-title">üìê C·∫•u t·∫°o</div>
                        <div class="tree-formula" id="tree-formula">
                            <span class="char">Â•Ω</span>
                            <span class="op">=</span>
                            <span class="comp" onclick="loadChar('Â•≥')">Â•≥</span>
                            <span class="op">+</span>
                            <span class="comp" onclick="loadChar('Â≠ê')">Â≠ê</span>
                        </div>
                    </div>
                    
                    <!-- Radical -->
                    <div class="radical-info" id="radical-info">
                        <div class="radical-header">
                            <div class="radical-char" id="radical-char">Â•≥</div>
                            <div class="radical-details">
                                <h3 id="radical-name">B·ªô N·ªØ (Â•≥)</h3>
                                <p id="radical-meaning">Nghƒ©a: N·ªØ, ph·ª• n·ªØ, con g√°i</p>
                                <p id="radical-strokes">3 n√©t | B·ªô th·ªß #38</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Components -->
                    <div class="decompose-title">üß© Th√†nh ph·∫ßn</div>
                    <div class="components-grid" id="components-grid"></div>
                    
                    <!-- Mnemonic -->
                    <div class="mnemonic-box" style="margin-top:20px;">
                        <div class="mnemonic-title">üí° C√°ch nh·ªõ</div>
                        <div class="mnemonic-text" id="mnemonic-text">
                            Ch·ªØ <strong>Â•Ω</strong> (t·ªët) g·ªìm <strong>Â•≥</strong> (n·ªØ) + <strong>Â≠ê</strong> (con).
                            H√¨nh ·∫£nh: M·∫π √¥m con = ƒëi·ªÅu t·ªët ƒë·∫πp nh·∫•t!
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Related Characters -->
        <div class="card">
            <div class="decompose-title">üìö Ch·ªØ c√πng b·ªô th·ªß</div>
            <div class="examples-grid" id="related-chars"></div>
        </div>
    </div>

    <script>
        // ============ DATA ============
        const CHAR_DATA = {
            'Â•Ω': {
                pinyin: 'h«éo', meaning: 'T·ªët, Th√≠ch', strokes: 6, hsk: 1,
                radical: 'Â•≥', radicalName: 'N·ªØ', radicalNum: 38,
                components: [
                    { char: 'Â•≥', pinyin: 'n«ö', meaning: 'N·ªØ, ph·ª• n·ªØ', type: 'B·ªô th·ªß', strokes: 3 },
                    { char: 'Â≠ê', pinyin: 'z«ê', meaning: 'Con, ƒë·ª©a tr·∫ª', type: 'Thanh ph√π', strokes: 3 }
                ],
                mnemonic: 'Ch·ªØ <strong>Â•Ω</strong> (t·ªët) g·ªìm <strong>Â•≥</strong> (n·ªØ/m·∫π) + <strong>Â≠ê</strong> (con). H√¨nh ·∫£nh: M·∫π √¥m con = ƒëi·ªÅu t·ªët ƒë·∫πp nh·∫•t!',
                related: ['Â•π', 'Â¶à', 'Âßê', 'Â¶π', 'Â®ò', 'Â©ö', 'Â´Å']
            },
            'Êòé': {
                pinyin: 'm√≠ng', meaning: 'S√°ng, r√µ r√†ng', strokes: 8, hsk: 2,
                radical: 'Êó•', radicalName: 'Nh·∫≠t', radicalNum: 72,
                components: [
                    { char: 'Êó•', pinyin: 'r√¨', meaning: 'M·∫∑t tr·ªùi, ng√†y', type: 'B·ªô th·ªß', strokes: 4 },
                    { char: 'Êúà', pinyin: 'yu√®', meaning: 'M·∫∑t trƒÉng, th√°ng', type: 'Thanh ph√π', strokes: 4 }
                ],
                mnemonic: 'Ch·ªØ <strong>Êòé</strong> (s√°ng) = <strong>Êó•</strong> (m·∫∑t tr·ªùi) + <strong>Êúà</strong> (m·∫∑t trƒÉng). C·∫£ hai c√πng chi·∫øu s√°ng = r·∫•t s√°ng!',
                related: ['Êó©', 'Êó∂', 'Êôö', 'Êòü', 'Êò•', 'Êô¥', 'Êöñ']
            },
            '‰ºë': {
                pinyin: 'xi≈´', meaning: 'Ngh·ªâ ng∆°i', strokes: 6, hsk: 2,
                radical: '‰∫ª', radicalName: 'Nh√¢n (ƒë·ª©ng)', radicalNum: 9,
                components: [
                    { char: '‰∫ª', pinyin: 'r√©n', meaning: 'Ng∆∞·ªùi (bi·∫øn th·ªÉ)', type: 'B·ªô th·ªß', strokes: 2 },
                    { char: 'Êú®', pinyin: 'm√π', meaning: 'C√¢y, g·ªó', type: 'H√¨nh ph√π', strokes: 4 }
                ],
                mnemonic: 'Ch·ªØ <strong>‰ºë</strong> (ngh·ªâ) = <strong>‰∫ª</strong> (ng∆∞·ªùi) + <strong>Êú®</strong> (c√¢y). Ng∆∞·ªùi t·ª±a v√†o c√¢y ƒë·ªÉ ngh·ªâ ng∆°i!',
                related: ['‰ªñ', '‰Ω†', '‰ª¨', '‰Ωú', '‰Ωè', '‰Ωì', '‰Ωç']
            },
            'Êûó': {
                pinyin: 'l√≠n', meaning: 'R·ª´ng', strokes: 8, hsk: 3,
                radical: 'Êú®', radicalName: 'M·ªôc', radicalNum: 75,
                components: [
                    { char: 'Êú®', pinyin: 'm√π', meaning: 'C√¢y', type: 'B·ªô th·ªß', strokes: 4 },
                    { char: 'Êú®', pinyin: 'm√π', meaning: 'C√¢y', type: 'L·∫∑p l·∫°i', strokes: 4 }
                ],
                mnemonic: 'Ch·ªØ <strong>Êûó</strong> (r·ª´ng) = <strong>Êú®</strong> + <strong>Êú®</strong>. Hai c√¢y ƒë·ª©ng c·∫°nh nhau = r·ª´ng nh·ªè!',
                related: ['Ê£Æ', 'Ê†ë', 'Êùë', 'ÊùØ', 'Êùø', 'Ê°å', 'Ê§Ö']
            },
            'Ê£Æ': {
                pinyin: 'sƒìn', meaning: 'R·ª´ng r·∫≠m', strokes: 12, hsk: 4,
                radical: 'Êú®', radicalName: 'M·ªôc', radicalNum: 75,
                components: [
                    { char: 'Êú®', pinyin: 'm√π', meaning: 'C√¢y', type: 'B·ªô th·ªß', strokes: 4 },
                    { char: 'Êûó', pinyin: 'l√≠n', meaning: 'R·ª´ng', type: 'H√¨nh ph√π', strokes: 8 }
                ],
                mnemonic: 'Ch·ªØ <strong>Ê£Æ</strong> (r·ª´ng r·∫≠m) = 3 c√¢y <strong>Êú®</strong>. Nhi·ªÅu c√¢y h∆°n Êûó = r·ª´ng r·∫≠m h∆°n!',
                related: ['Êûó', 'Ê†ë', 'Êùë', 'ÊùØ', 'Êùø', 'Ê°å', 'Ê§Ö']
            },
            'ÊÉ≥': {
                pinyin: 'xi«éng', meaning: 'Nghƒ©, mu·ªën', strokes: 13, hsk: 2,
                radical: 'ÂøÉ', radicalName: 'T√¢m', radicalNum: 61,
                components: [
                    { char: 'Áõ∏', pinyin: 'xiƒÅng', meaning: 'L·∫´n nhau', type: 'Thanh ph√π', strokes: 9 },
                    { char: 'ÂøÉ', pinyin: 'xƒ´n', meaning: 'Tim, t√¢m', type: 'B·ªô th·ªß', strokes: 4 }
                ],
                mnemonic: 'Ch·ªØ <strong>ÊÉ≥</strong> (nghƒ©) = <strong>Áõ∏</strong> (t∆∞·ªõng/h√¨nh) + <strong>ÂøÉ</strong> (tim). H√¨nh ·∫£nh trong tim = suy nghƒ©!',
                related: ['ÂøÉ', 'ÊÄù', 'ÊÑè', 'ÊÑü', 'ÊÉÖ', 'ÊÑõ', 'Âøô']
            },
            'Â¶à': {
                pinyin: 'mƒÅ', meaning: 'M·∫π', strokes: 6, hsk: 1,
                radical: 'Â•≥', radicalName: 'N·ªØ', radicalNum: 38,
                components: [
                    { char: 'Â•≥', pinyin: 'n«ö', meaning: 'N·ªØ', type: 'B·ªô th·ªß', strokes: 3 },
                    { char: 'È©¨', pinyin: 'm«é', meaning: 'Ng·ª±a (√¢m)', type: 'Thanh ph√π', strokes: 3 }
                ],
                mnemonic: 'Ch·ªØ <strong>Â¶à</strong> (m·∫π) = <strong>Â•≥</strong> (n·ªØ) + <strong>È©¨</strong> (m√£ - √¢m). Ng∆∞·ªùi ph·ª• n·ªØ ph√°t √¢m "mƒÅ"!',
                related: ['Â•Ω', 'Â•π', 'Âßê', 'Â¶π', 'Â®ò', 'Â©ö', 'Â´Å']
            },
            'Â≠¶': {
                pinyin: 'xu√©', meaning: 'H·ªçc', strokes: 8, hsk: 1,
                radical: 'Â≠ê', radicalName: 'T·ª≠', radicalNum: 39,
                components: [
                    { char: '‚∫ç', pinyin: '', meaning: 'Tay che (gi·∫£n l∆∞·ª£c)', type: 'H√¨nh ph√π', strokes: 3 },
                    { char: 'ÂÜñ', pinyin: 'm√¨', meaning: 'M√°i che', type: 'H√¨nh ph√π', strokes: 2 },
                    { char: 'Â≠ê', pinyin: 'z«ê', meaning: 'Con, ƒë·ª©a tr·∫ª', type: 'B·ªô th·ªß', strokes: 3 }
                ],
                mnemonic: 'Ch·ªØ <strong>Â≠¶</strong> (h·ªçc) = tay + m√°i nh√† + <strong>Â≠ê</strong> (tr·∫ª). ƒê·ª©a tr·∫ª d∆∞·ªõi m√°i nh√† ƒë∆∞·ª£c d·∫°y d·ªó = h·ªçc!',
                related: ['Â≠ó', 'Â≠©', 'Â≠ô', 'Â≠ò', 'Â≠ù']
            },
            'ÂõΩ': {
                pinyin: 'gu√≥', meaning: 'N∆∞·ªõc, qu·ªëc gia', strokes: 8, hsk: 1,
                radical: 'Âõó', radicalName: 'Vi', radicalNum: 31,
                components: [
                    { char: 'Âõó', pinyin: 'w√©i', meaning: 'Bao quanh', type: 'B·ªô th·ªß', strokes: 3 },
                    { char: 'Áéâ', pinyin: 'y√π', meaning: 'Ng·ªçc', type: 'H√¨nh ph√π', strokes: 5 }
                ],
                mnemonic: 'Ch·ªØ <strong>ÂõΩ</strong> (n∆∞·ªõc) = <strong>Âõó</strong> (bi√™n gi·ªõi) + <strong>Áéâ</strong> (ng·ªçc). V√πng ƒë·∫•t c√≥ ng·ªçc qu√Ω = qu·ªëc gia!',
                related: ['Âõ≠', 'Âõæ', 'Âõ¢', 'Âõ¥', 'ÂúÜ']
            },
            'Áà±': {
                pinyin: '√†i', meaning: 'Y√™u', strokes: 10, hsk: 2,
                radical: 'Áà´', radicalName: 'Tr·∫£o', radicalNum: 87,
                components: [
                    { char: 'Áà´', pinyin: 'zh«éo', meaning: 'M√≥ng vu·ªët', type: 'B·ªô th·ªß', strokes: 4 },
                    { char: 'ÂÜñ', pinyin: 'm√¨', meaning: 'M√°i che', type: 'H√¨nh ph√π', strokes: 2 },
                    { char: 'Âèã', pinyin: 'y«íu', meaning: 'B·∫°n', type: 'Thanh ph√π', strokes: 4 }
                ],
                mnemonic: 'Ch·ªØ <strong>Áà±</strong> (y√™u) c√≥ <strong>ÂøÉ</strong> (tim) ·ªü gi·ªØa (d·∫°ng c≈©). T√¨nh y√™u xu·∫•t ph√°t t·ª´ tr√°i tim!',
                related: ['Âèó', 'Áà¨', 'Èáá']
            },
        };
        
        const QUICK_CHARS = ['Â•Ω', 'Êòé', '‰ºë', 'Êûó', 'Ê£Æ', 'ÊÉ≥', 'Â¶à', 'Â≠¶', 'ÂõΩ', 'Áà±'];
        
        // ============ STATE ============
        let currentChar = 'Â•Ω';
        let writer = null;
        
        // ============ FUNCTIONS ============
        function speak(text) {
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'zh-CN';
            utterance.rate = 0.8;
            speechSynthesis.speak(utterance);
        }
        
        function initWriter(char) {
            const container = document.getElementById('char-writer');
            container.innerHTML = '';
            
            writer = HanziWriter.create(container, char, {
                width: 200,
                height: 200,
                padding: 10,
                strokeColor: '#60a5fa',
                outlineColor: 'rgba(255,255,255,0.1)',
                radicalColor: '#f59e0b',
                showOutline: true,
                strokeAnimationSpeed: 1,
                delayBetweenStrokes: 200
            });
        }
        
        function loadChar(char) {
            currentChar = char;
            document.getElementById('search-input').value = char;
            
            const data = CHAR_DATA[char];
            if (!data) {
                // Fallback for unknown characters
                document.getElementById('char-pinyin').textContent = '?';
                document.getElementById('char-meaning').textContent = 'Ch∆∞a c√≥ d·ªØ li·ªáu';
                document.getElementById('stroke-count').textContent = '? n√©t';
                document.getElementById('hsk-level').textContent = '?';
                document.getElementById('tree-formula').innerHTML = `<span class="char">${char}</span>`;
                document.getElementById('components-grid').innerHTML = '<p style="color:#666;">Ch∆∞a c√≥ d·ªØ li·ªáu ph√¢n t√≠ch</p>';
                document.getElementById('mnemonic-text').textContent = 'Ch∆∞a c√≥ c√°ch nh·ªõ';
                document.getElementById('related-chars').innerHTML = '';
                initWriter(char);
                return;
            }
            
            // Update UI
            document.getElementById('char-pinyin').textContent = data.pinyin;
            document.getElementById('char-meaning').textContent = data.meaning;
            document.getElementById('stroke-count').textContent = data.strokes + ' n√©t';
            document.getElementById('hsk-level').textContent = 'HSK ' + data.hsk;
            
            // Formula
            const formula = data.components.map(c => 
                `<span class="comp" onclick="loadChar('${c.char}')">${c.char}</span>`
            ).join('<span class="op">+</span>');
            document.getElementById('tree-formula').innerHTML = 
                `<span class="char">${char}</span><span class="op">=</span>${formula}`;
            
            // Radical
            document.getElementById('radical-char').textContent = data.radical;
            document.getElementById('radical-name').textContent = `B·ªô ${data.radicalName} (${data.radical})`;
            document.getElementById('radical-meaning').textContent = `B·ªô th·ªß #${data.radicalNum}`;
            document.getElementById('radical-strokes').textContent = `${data.components[0]?.strokes || '?'} n√©t`;
            
            // Components
            document.getElementById('components-grid').innerHTML = data.components.map(c => `
                <div class="component-card" onclick="loadChar('${c.char}')">
                    <div class="component-char">${c.char}</div>
                    <div class="component-pinyin">${c.pinyin}</div>
                    <div class="component-meaning">${c.meaning}</div>
                    <div class="component-type">${c.type}</div>
                </div>
            `).join('');
            
            // Mnemonic
            document.getElementById('mnemonic-text').innerHTML = data.mnemonic;
            
            // Related
            document.getElementById('related-chars').innerHTML = data.related.map(c => 
                `<div class="example-char" onclick="loadChar('${c}')">${c}</div>`
            ).join('');
            
            // Writer
            initWriter(char);
        }
        
        function renderQuickSelect() {
            document.getElementById('quick-select').innerHTML = QUICK_CHARS.map(c => 
                `<div class="quick-char" onclick="loadChar('${c}')">${c}</div>`
            ).join('');
        }
        
        // ============ INIT ============
        document.getElementById('search-input').addEventListener('input', (e) => {
            const char = e.target.value.trim();
            if (char && char.length === 1) {
                loadChar(char);
            }
        });
        
        document.getElementById('btn-animate').addEventListener('click', () => {
            if (writer) {
                writer.animateCharacter();
            }
        });
        
        document.getElementById('btn-speak').addEventListener('click', () => {
            speak(currentChar);
        });
        
        renderQuickSelect();
        loadChar('Â•Ω');
    </script>
</body>
</html>
